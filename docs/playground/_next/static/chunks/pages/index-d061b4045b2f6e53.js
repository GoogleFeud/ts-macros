(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4965:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.labelActions=t.unaryActions=t.binaryActions=t.binaryNumberActions=void 0;const n=r(4625),i=r(7914);t.binaryNumberActions={[n.SyntaxKind.MinusToken]:(e,t)=>n.factory.createNumericLiteral(e+t),[n.SyntaxKind.AsteriskToken]:(e,t)=>n.factory.createNumericLiteral(e*t),[n.SyntaxKind.SlashToken]:(e,t)=>n.factory.createNumericLiteral(e/t),[n.SyntaxKind.LessThanToken]:(e,t)=>e<t?n.factory.createTrue():n.factory.createFalse(),[n.SyntaxKind.LessThanEqualsToken]:(e,t)=>e<=t?n.factory.createTrue():n.factory.createFalse(),[n.SyntaxKind.GreaterThanToken]:(e,t)=>e>t?n.factory.createTrue():n.factory.createFalse(),[n.SyntaxKind.GreaterThanEqualsToken]:(e,t)=>e>=t?n.factory.createTrue():n.factory.createFalse(),[n.SyntaxKind.AmpersandToken]:(e,t)=>n.factory.createNumericLiteral(e&t),[n.SyntaxKind.BarToken]:(e,t)=>n.factory.createNumericLiteral(e|t),[n.SyntaxKind.CaretToken]:(e,t)=>n.factory.createNumericLiteral(e^t),[n.SyntaxKind.PercentToken]:(e,t)=>n.factory.createNumericLiteral(e%t)},t.binaryActions={[n.SyntaxKind.PlusToken]:(e,t,r,i)=>"string"===typeof r||"string"===typeof i?n.factory.createStringLiteral(r+i):"number"===typeof r||"number"===typeof i?n.factory.createNumericLiteral(r+i):void 0,[n.SyntaxKind.EqualsEqualsEqualsToken]:(e,t,r,i)=>r===i?n.factory.createTrue():n.factory.createFalse(),[n.SyntaxKind.EqualsEqualsToken]:(e,t,r,i)=>r==i?n.factory.createTrue():n.factory.createFalse(),[n.SyntaxKind.ExclamationEqualsEqualsToken]:(e,t,r,i)=>r!==i?n.factory.createTrue():n.factory.createFalse(),[n.SyntaxKind.ExclamationEqualsToken]:(e,t,r,i)=>r!=i?n.factory.createTrue():n.factory.createFalse(),[n.SyntaxKind.AmpersandAmpersandToken]:(e,t,r,n)=>r&&n?t:r?n?void 0:t:e,[n.SyntaxKind.BarBarToken]:(e,t,r,n)=>r?e:t},t.unaryActions={[n.SyntaxKind.ExclamationToken]:e=>e?n.factory.createFalse():n.factory.createTrue(),[n.SyntaxKind.MinusToken]:e=>{if("number"===typeof e)return n.factory.createNumericLiteral(-e)},[n.SyntaxKind.TildeToken]:e=>{if("number"===typeof e)return n.factory.createNumericLiteral(~e)}},t.labelActions={[n.SyntaxKind.IfStatement]:e=>(0,i.createObject)({kind:n.factory.createNumericLiteral(0),condition:e.expression,then:e.thenStatement,else:e.elseStatement}),[n.SyntaxKind.ForOfStatement]:e=>{let t;if(n.isVariableDeclarationList(e.initializer)){const r=e.initializer.declarations[0];r&&n.isIdentifier(r.name)&&(t=r.name)}else t=e.initializer;return(0,i.createObject)({kind:n.factory.createNumericLiteral(1),type:n.factory.createStringLiteral("of"),initializer:t,iterator:e.expression,statement:e.statement})},[n.SyntaxKind.ForInStatement]:e=>{let t;if(n.isVariableDeclarationList(e.initializer)){const r=e.initializer.declarations[0];r&&n.isIdentifier(r.name)&&(t=r.name)}else t=e.initializer;return(0,i.createObject)({kind:n.factory.createNumericLiteral(1),type:n.factory.createStringLiteral("in"),initializer:t,iterator:e.expression,statement:e.statement})},[n.SyntaxKind.WhileStatement]:e=>(0,i.createObject)({kind:n.factory.createNumericLiteral(3),do:n.factory.createFalse(),condition:e.expression,statement:e.statement}),[n.SyntaxKind.DoStatement]:e=>(0,i.createObject)({kind:n.factory.createNumericLiteral(3),do:n.factory.createTrue(),condition:e.expression,statement:e.statement}),[n.SyntaxKind.ForStatement]:e=>{let t,r;if(e.initializer)if(n.isVariableDeclarationList(e.initializer)){t=[];for(const r of e.initializer.declarations)n.isIdentifier(r.name)&&t.push(n.factory.createArrayLiteralExpression([n.factory.createIdentifier(r.name.text),r.initializer||n.factory.createIdentifier("undefined")]))}else r=e.initializer;return(0,i.createObject)({kind:n.factory.createNumericLiteral(2),initializer:(0,i.createObject)({variables:t&&n.factory.createArrayLiteralExpression(t),expression:r}),condition:e.condition,increment:e.incrementor,statement:e.statement})},[n.SyntaxKind.Block]:e=>(0,i.createObject)({kind:n.factory.createNumericLiteral(4),statement:e})}},3349:function(e,t,r){"use strict";t.wN=void 0;const n=r(5105),i=r(249);t.wN=new n.MacroMap,t.ZP=e=>r=>{const n=e.getTypeChecker(),o=new i.MacroTransformer(r,n,t.wN);return e=>o.run(e)}},5105:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MacroMap=void 0;class r{constructor(e){this.macros={},this.parent=e,this.escaped=[]}set(e){this.macros[e.name]=e}get(e){let t=this;for(;t;){if(e in t.macros)return t.macros[e];t=t.parent}}shallowHas(e){return e in this.macros}getParent(){return this.parent||this}extend(){return new r(this)}concatEscaped(e){e.push(...this.escaped),this.escaped.length=0}clear(){this.macros={}}}t.MacroMap=r},5780:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4625),i=r(9939),o=r(175),a=r(7914),s={},c={};t.default={$$loadEnv:(e,t,i)=>{const s=e.length&&n.isStringLiteral(e[0])?e[0].text:"";let c;try{c=r(Object(function(){var e=new Error("Cannot find module 'dotenv'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(l){throw(0,a.MacroError)(i,"`loadEnv` macro called but `dotenv` module is not installed.")}return s?c.config({path:o.join(n.sys.getCurrentDirectory(),s)}):c.config(),t.props.optimizeEnv=!0,t.context.factory.createCallExpression(t.context.factory.createPropertyAccessExpression(t.context.factory.createCallExpression(t.context.factory.createIdentifier("require"),void 0,[t.context.factory.createStringLiteral("dotenv")]),t.context.factory.createIdentifier("config")),void 0,s?[t.context.factory.createObjectLiteralExpression([t.context.factory.createPropertyAssignment(t.context.factory.createIdentifier("path"),t.context.factory.createStringLiteral(s))])]:[])},$$readFile:([e,t],r,o)=>{const l=e&&r.getStringFromNode(e,!1,!0);if(!l)throw(0,a.MacroError)(o,"`readFile` macro expects a path to the JSON file as the first parameter.");const u=t&&r.getBoolFromNode(t);if(u){if(s[l])return s[l]}else if(c[l])return c[l];const d=i.readFileSync(l,"utf-8");if(u){const e=(0,a.primitiveToNode)(JSON.parse(d));return s[l]=e,e}return c[l]=d,n.factory.createStringLiteral(d)},$$inlineFunc:(e,t,r)=>{const i=[...e].reverse(),o=i.pop();if(!o)throw(0,a.MacroError)(r,"`inlineFunc` macro expects an arrow function as the first argument.");const s=n.visitNode(o,t.boundVisitor);if(!s||!n.isArrowFunction(s))throw(0,a.MacroError)(r,"`inlineFunc` macro expects an arrow function as the first argument.");if(!s.parameters.length)return n.isBlock(s.body)?s.body.statements:s.body;const c=new Map;for(const a of s.parameters)n.isIdentifier(a.name)&&c.set(a.name.text,i.pop());const l=e=>n.isIdentifier(e)&&c.has(e.text)?c.get(e.text):n.visitEachChild(e,l,t.context),u=n.visitEachChild(s,l,t.context);return"statements"in u.body?t.context.factory.createImmediatelyInvokedArrowFunction(u.body.statements):u.body},$$kindof:(e,t,r)=>{if(!e.length)throw(0,a.MacroError)(r,"`kindof` macro expects a single argument.");return t.context.factory.createNumericLiteral(e[0].kind)},$$define:([e,t,r],i,o)=>{const s=i.getStringFromNode(e,!0,!0);if("string"!==typeof s)throw(0,a.MacroError)(o,"`define` macro expects a string literal as the first argument.");const c=i.context.factory.createVariableDeclarationList([i.context.factory.createVariableDeclaration(s,void 0,void 0,t)],r?n.NodeFlags.Let:n.NodeFlags.Const);return n.isForStatement(o.parent)?c:[n.factory.createVariableStatement(void 0,c)]},$$i:(e,t)=>t.repeat.length?t.context.factory.createNumericLiteral(t.repeat[t.repeat.length-1].index):t.context.factory.createNumericLiteral(-1),$$length:([e],t,r)=>{if(!e)throw(0,a.MacroError)(r,"`length` macro expects an array / string literal as the first argument.");if(n.isArrayLiteralExpression(e))return t.context.factory.createNumericLiteral(e.elements.length);const i=t.getStringFromNode(e,!0,!0);if(i)return t.context.factory.createNumericLiteral(i.length);throw(0,a.MacroError)(r,"`length` macro expects an array / string literal as the first argument.")},$$ident:([e],t,r)=>{var i;if(!e)throw(0,a.MacroError)(r,"`ident` macro expects a string literal as the first parameter.");const o=(null===(i=t.getLastMacro())||void 0===i?void 0:i.defined)||{},s=t.getStringFromNode(e,!0,!0);return s?o[s]||n.factory.createIdentifier(s):e},$$err:([e],t,r)=>{const n=t.getStringFromNode(e,!1,!0);if(!n)throw(0,a.MacroError)(r,"`err` macro expects a string literal as the first argument.");const i=t.macroStack.pop();throw(0,a.MacroError)(r,`${i?`In macro ${i.macro.name}: `:""}${n}`)},$$includes:([e,t],r,i)=>{if(!e)throw(0,a.MacroError)(i,"`includes` macro expects an array/string literal as the first argument.");if(!t)throw(0,a.MacroError)(i,"`includes` macro expects a second argument.");const o=r.getStringFromNode(e,!1,!0);if(o){const e=r.getLiteralFromNode(t);if("string"!==typeof e)throw(0,a.MacroError)(i,"`includes` macro expects a string literal as the second argument.");return o.includes(e)?n.factory.createTrue():n.factory.createFalse()}if(n.isArrayLiteralExpression(e)){return e.elements.map((e=>r.getLiteralFromNode(n.visitNode(e,r.boundVisitor)))).includes(r.getLiteralFromNode(t))?n.factory.createTrue():n.factory.createFalse()}throw(0,a.MacroError)(i,"`includes` macro expects an array/string literal as the first argument.")},$$ts:([e],t,r)=>{const i=t.getStringFromNode(n.visitNode(e,t.boundVisitor),!0,!0);if(!i)throw(0,a.MacroError)(r,"`ts` macro expects a string as it's first argument.");const o=n.createSourceFile("expr",i,n.ScriptTarget.ESNext,!1,n.ScriptKind.JS),s=e=>n.isIdentifier(e)?n.factory.createIdentifier(e.text):n.visitEachChild(e,s,t.context);return n.visitNodes(o.statements,s)},$$escape:([e],t,r)=>{if(!e||!n.isArrowFunction(e))throw(0,a.MacroError)(r,"`escape` macro expects an arrow function as it's first argument.");n.isBlock(e.body)?t.macros.escaped.push(...t.makeHygienic(e.body.statements)):t.macros.escaped.push(n.factory.createExpressionStatement(e.body))},$$slice:([e,t,r],i,o)=>{if(!e)throw(0,a.MacroError)(o,"`slice` macro expects an array/string literal as the first argument.");const s=t&&i.getNumberFromNode(t)||-1/0,c=r&&i.getNumberFromNode(r)||1/0,l=i.getStringFromNode(e,!1,!0);if(l)return n.factory.createStringLiteral(l.slice(s,c));if(n.isArrayLiteralExpression(e))return n.factory.createArrayLiteralExpression(e.elements.slice(s,c));throw(0,a.MacroError)(o,"`includes` macro expects an array/string literal as the first argument.")},$$propsOfType:(e,t,r)=>{if(!r.typeArguments||!r.typeArguments[0])throw(0,a.MacroError)(r,"`propsOfType` macro expects one type parameter.");const i=t.checker.getTypeAtLocation(r.typeArguments[0]);if(i.isTypeParameter()){const e=t.getTypeParam(i);return e?n.factory.createArrayLiteralExpression(e.getProperties().map((e=>n.factory.createStringLiteral(e.name)))):n.factory.createArrayLiteralExpression()}return n.factory.createArrayLiteralExpression(i.getProperties().map((e=>n.factory.createStringLiteral(e.name))))},$$typeToString:(e,t,r)=>{if(!r.typeArguments||!r.typeArguments[0])throw(0,a.MacroError)(r,"`typeToString` macro expects one type parameter.");const i=t.checker.getTypeAtLocation(r.typeArguments[0]);if(i.isTypeParameter()){const e=t.getTypeParam(i);return e?n.factory.createStringLiteral(t.checker.typeToString(e)):n.factory.createStringLiteral("")}return n.factory.createStringLiteral(t.checker.typeToString(i))},$$comptime:(e,t,r)=>{if(t.macroStack.length)throw(0,a.MacroError)(r,"`comptime` macro cannot be called inside macros.");const i=r.arguments[0];if(!i||!n.isArrowFunction(i))throw(0,a.MacroError)(r,"`comptime` macro expects an arrow function as the first parameter.");let o=r.parent;if(n.isExpressionStatement(o)&&(o=o.parent,n.isBlock(o)&&(o=o.parent),"body"in o)){const e=t.checker.getSignatureFromDeclaration(o);if(!e||!e.declaration)return;t.comptimeSignatures.set(e.declaration,new Function(...e.parameters.map((e=>e.name)),(0,a.fnBodyToString)(t.checker,i)))}else(0,a.tryRun)(new Function((0,a.fnBodyToString)(t.checker,i)))}}},249:function(e,t,r){"use strict";var n=r(4250);Object.defineProperty(t,"__esModule",{value:!0}),t.MacroTransformer=void 0;const i=r(4625),o=r(5780),a=r(7914),s=r(4965),c=Symbol("NO_LIT_FOUND");t.MacroTransformer=class{constructor(e,t,r){this.context=e,this.boundVisitor=this.visitor.bind(this),this.repeat=[],this.macroStack=[],this.props={},this.checker=t,this.macros=r,this.comptimeSignatures=new Map}run(e){if(e.isDeclarationFile)return e;const t=[];for(const r of e.statements){const e=this.visitor(r);this.macros.concatEscaped(t),e&&(Array.isArray(e)?t.push(...e):t.push(e))}return i.factory.updateSourceFile(e,t)}visitor(e){var t,r,o,l,u;if(!i.isFunctionDeclaration(e)||(null===(t=e.modifiers)||void 0===t?void 0:t.some((e=>e.kind===i.SyntaxKind.DeclareKeyword)))||!(null===(r=i.getNameOfDeclaration(e))||void 0===r?void 0:r.getText().startsWith("$"))){if(i.isBlock(e)){this.macros=this.macros.extend();const t=[];for(const r of e.statements){const e=this.visitor(r);this.macros.concatEscaped(t),e&&(Array.isArray(e)?t.push(...e):t.push(e))}return this.macros=this.macros.getParent(),i.factory.updateBlock(e,t)}if(i.isLabeledStatement(e)){const t=this.macros.get(e.label.text);if(!t||!t.body)return;let r=e.statement;const n=[];if(i.isLabeledStatement(r)){const t=this.visitor(e.statement);if(!t)return e;if(Array.isArray(t)){const i=t.findIndex((e=>s.labelActions[e.kind]));if(-1===i)return e;n.push(...t.filter(((e,t)=>t!==i))),r=t[i]}else r=i.visitNode(e.statement,this.boundVisitor)}const o=s.labelActions[r.kind];if(!o)return e;this.macroStack.push({macro:t,call:void 0,args:i.factory.createNodeArray([o(r)]),defined:{}}),n.push(...i.visitEachChild(t.body,this.boundVisitor,this.context).statements);const a=t.params.find((e=>1===e.marker));return a&&(a.defaultVal=i.factory.createNumericLiteral(+a.defaultVal.text+1)),this.macroStack.pop(),n}if(i.isExpressionStatement(e)&&i.isCallExpression(e.expression)&&i.isNonNullExpression(e.expression.expression)&&i.isNonNullExpression(e.expression.expression)){const t=this.runMacro(e.expression,e.expression.expression.expression);if(!t)return;const r=this.makeHygienic(t);if(!(r.length&&i.isReturnStatement(r[r.length-1])&&i.isSourceFile(e.parent)))return r;{const e=r.pop();e.expression&&r.push(i.factory.createExpressionStatement(e.expression))}}if(i.isCallExpression(e)){if(i.isNonNullExpression(e.expression)){const t=this.runMacro(e,e.expression.expression);if(!t||!t.length)return i.factory.createNull();let r=t.pop();if(0===t.length){if(i.isReturnStatement(r)||i.isExpressionStatement(r))return r.expression;if(!(0,a.isStatement)(r))return r}return i.isExpressionStatement(r)?r=i.factory.createReturnStatement(r.expression):(0,a.isStatement)(r)||(r=i.factory.createReturnStatement(r)),i.factory.createCallExpression(i.factory.createParenthesizedExpression(i.factory.createArrowFunction(void 0,void 0,[],void 0,void 0,i.factory.createBlock([...t,r],!0))),void 0,void 0)}this.callComptimeFunction(e)}if(i.isNewExpression(e)&&this.callComptimeFunction(e),this.macroStack.length){const{macro:t,args:r}=this.getLastMacro();if(i.isPropertyAccessExpression(e)||i.isElementAccessExpression(e)){if(i.isPropertyAccessExpression(e)&&this.props.optimizeEnv&&"process.env"===e.expression.getText()){const t=n.env[e.name.text];return t?i.factory.createStringLiteral(t):e}{let t=i.visitNode(e.expression,this.boundVisitor);for(;i.isParenthesizedExpression(t);)t=t.expression;if(i.isObjectLiteralExpression(t)){const r=i.isPropertyAccessExpression(e)?(0,a.getNameFromProperty)(e.name):this.getNumberFromNode(i.visitNode(e.argumentExpression,this.boundVisitor));if(!r)return e;const n=t.properties.find((e=>e.name&&(0,a.getNameFromProperty)(e.name)===r));return n&&i.isPropertyAssignment(n)?n.initializer:i.factory.createPropertyAccessExpression(t,r.toString())}if(i.isArrayLiteralExpression(t)){if(!i.isElementAccessExpression(e))return i.factory.createPropertyAccessExpression(t,e.name);const r=i.visitNode(e.argumentExpression,this.boundVisitor),n=this.getNumberFromNode(r);return void 0!==n&&t.elements[n]?t.elements[n]:i.factory.createElementAccessExpression(t,r)}}}else{if(i.isAsExpression(e))return i.visitNode(e.expression,this.boundVisitor);if(i.isNumericLiteral(e))return i.factory.createNumericLiteral(e.text);if(i.isStringLiteral(e))return i.factory.createStringLiteral(e.text);if(i.isRegularExpressionLiteral(e))return i.factory.createRegularExpressionLiteral(e.text);if(i.isIdentifier(e)){const n=this.getMacroParam(e.text,t,r);return n?i.isStringLiteral(n)&&(i.isClassDeclaration(e.parent)||i.isEnumDeclaration(e.parent)||i.isFunctionDeclaration(e.parent))?i.factory.createIdentifier(n.text):i.isIdentifier(n)?n:i.visitNode(n,this.boundVisitor):e}if(i.isConditionalExpression(e)){const t=i.visitNode(e.condition,this.boundVisitor),r=this.getBoolFromNode(t);return!1===r?i.visitNode(e.whenFalse,this.boundVisitor):!0===r?i.visitNode(e.whenTrue,this.boundVisitor):i.factory.createConditionalExpression(t,void 0,i.visitNode(e.whenTrue,this.boundVisitor),void 0,i.visitNode(e.whenFalse,this.boundVisitor))}if(i.isIfStatement(e)&&!i.isParenthesizedExpression(e.expression)){const t=i.visitNode(e.expression,this.boundVisitor),r=this.getBoolFromNode(t);if(!0===r){const t=i.visitNode(e.thenStatement,this.boundVisitor);return t&&i.isBlock(t)?[...t.statements]:t}if(!1===r){if(!e.elseStatement)return;const t=i.visitNode(e.elseStatement,this.boundVisitor);return t&&i.isBlock(t)?[...t.statements]:t}return i.factory.createIfStatement(t,i.visitNode(e.thenStatement,this.boundVisitor),i.visitNode(e.elseStatement,this.boundVisitor))}if(i.isBinaryExpression(e)){const t=e.operatorToken.kind,r=i.visitNode(e.left,this.boundVisitor),n=i.visitNode(e.right,this.boundVisitor),a=this.getLiteralFromNode(r),u=this.getLiteralFromNode(n);return a===c||u===c?i.factory.createBinaryExpression(r,t,n):s.binaryNumberActions[t]&&"number"===typeof a&&"number"===typeof u?s.binaryNumberActions[t](a,u):null!==(l=null===(o=s.binaryActions[t])||void 0===o?void 0:o.call(s.binaryActions,r,n,a,u))&&void 0!==l?l:i.factory.createBinaryExpression(r,t,n)}if(i.isPrefixUnaryExpression(e)&&39!==e.operator){const t=e.operator,r=i.visitNode(e.operand,this.boundVisitor),n=this.getLiteralFromNode(r);return n===c?e:(null===(u=s.unaryActions[t])||void 0===u?void 0:u.call(s.unaryActions,n))||r}if(i.isTypeOfExpression(e)){const t=this.getLiteralFromNode(i.visitNode(e.expression,this.boundVisitor));return t===c?e:i.factory.createStringLiteral(typeof t)}if(i.isExpressionStatement(e)){if(i.isBinaryExpression(e.expression)&&e.expression.operatorToken.kind===i.SyntaxKind.EqualsToken&&i.isIdentifier(e.expression.left)){const r=e.expression,n=t.params.find((e=>e.name===r.left.text));return n&&2===n.marker?void(n.defaultVal=i.visitNode(r.right,this.boundVisitor)):i.visitEachChild(e,this.boundVisitor,this.context)}if(i.isPrefixUnaryExpression(e.expression)&&39===e.expression.operator&&i.isArrayLiteralExpression(e.expression.operand)){const{separator:n,function:i,literals:o}=(0,a.getRepetitionParams)(e.expression.operand);return this.execRepetition(i,r,t,o,n)}}else{if(i.isPrefixUnaryExpression(e)&&39===e.operator&&i.isArrayLiteralExpression(e.operand)){const{separator:n,function:i,literals:o}=(0,a.getRepetitionParams)(e.operand);if(!n)throw(0,a.MacroError)(e,"Repetition separator must be included if a repetition is used as an expression.");return this.execRepetition(i,r,t,o,n,!0)}if(i.isCallExpression(e)){const n=e.arguments.findIndex((e=>i.isPrefixUnaryExpression(e)&&39===e.operator&&i.isArrayLiteralExpression(e.operand)));if(-1!==n){const o=e.arguments[n].operand,{separator:s,function:c,literals:l}=(0,a.getRepetitionParams)(o);if(!s){const o=this.execRepetition(c,r,t,l,s,!0),a=[];for(let t=0;t<e.arguments.length;t++)t===n?a.push(...o):a.push(e.arguments[t]);return i.visitNode(i.factory.createCallExpression(e.expression,e.typeArguments,a),this.boundVisitor)}}}}}return i.visitEachChild(e,this.boundVisitor,this.context)}return i.visitEachChild(e,this.boundVisitor,this.context)}{if(!e.body)return;const t=i.getNameOfDeclaration(e).getText();if(this.macros.shallowHas(t))throw(0,a.MacroError)(e,`Macro ${t} is already defined.`);const r=[];for(let n=0;n<e.parameters.length;n++){const t=e.parameters[n];if(!i.isIdentifier(t.name))throw(0,a.MacroError)(t,"You cannot use deconstruction patterns in macros.");const o=this.getMarker(t);r.push({spread:Boolean(t.dotDotDotToken),marker:o,start:n,name:t.name.getText(),defaultVal:t.initializer})}this.macros.set({name:t,params:r,body:e.body,typeParams:e.typeParameters||[]})}}execRepetition(e,t,r,n,o,s){var c;const u=[],d=[];for(const a of n){const e=i.visitNode(a,this.boundVisitor);i.isArrayLiteralExpression(e)&&d.push(...e.elements)}const f=this.repeat.push({index:0,elements:d,repeatName:null===(c=e.parameters[0])||void 0===c?void 0:c.name.getText()})-1,p=this.getTotalLoops((0,a.flattenBody)(e.body),t,r.params,d);for(;this.repeat[f].index<p;this.repeat[f].index++)if("statements"in e.body)if(s)u.push((0,a.wrapExpressions)(e.body.statements.map((e=>i.visitNode(e,this.boundVisitor)))));else for(const t of e.body.statements){const e=i.visitNode(t,this.boundVisitor);u.push(e)}else{const t=i.visitNode(e.body,this.boundVisitor);u.push(t)}return this.repeat.pop(),o&&l[o]?[l[o](this,u)]:u}getMacroParam(e,t,r){const n=t.params.findIndex((t=>t.name===e));if(-1===n){const t=this.repeat[this.repeat.length-1];return t&&t.elements.length&&t.repeatName===e?t.elements.length<=t.index?i.factory.createNull():t.elements[t.index]:void 0}const o=t.params[n];if(o.realName)return o.realName;if(this.repeat.length&&o.spread){const e=this.repeat[this.repeat.length-1].index+o.start;return e>=r.length?i.factory.createNull():r[e]}return o.spread?i.factory.createArrayLiteralExpression(r.slice(o.start)):r[o.start]||o.defaultVal}runMacro(e,t){const r=e.arguments;let n,s;if(i.isPropertyAccessExpression(t)){const r=(0,a.resolveAliasedSymbol)(this.checker,this.checker.getSymbolAtLocation(t.expression));if(r&&0!==(r.flags&i.SymbolFlags.Namespace))return this.runMacro(e,t.name);n=this.macros.get(t.name.text);const o=i.factory.createNodeArray([i.visitNode(t.expression,this.boundVisitor),...e.arguments]);s=this.macroStack.length?i.visitNodes(o,this.boundVisitor):o}else{if(o.default[t.getText()]){const n=o.default[t.getText()](i.visitNodes(r,this.boundVisitor),this,e);if(!n)return;return Array.isArray(n)?n:[i.factory.createExpressionStatement(n)]}n=this.macros.get(t.getText()),s=this.macroStack.length?i.visitNodes(r,this.boundVisitor):r}if(!n||!n.body)return;this.macroStack.push({macro:n,args:s,call:e,defined:{}});const c=[];for(const o of n.params)if(3===o.marker){const e=o.spread?i.factory.createArrayLiteralExpression(s.slice(o.start)):s[o.start]||o.defaultVal;i.isIdentifier(e)||(o.realName=i.factory.createUniqueName(o.name),c.push(i.factory.createVariableDeclaration(o.realName,void 0,void 0,e)))}c.length&&this.macros.escaped.push(i.factory.createVariableStatement(void 0,i.factory.createVariableDeclarationList(c,i.NodeFlags.Let)));const l=i.visitEachChild(n.body,this.boundVisitor,this.context).statements,u=n.params.find((e=>1===e.marker));return u&&(u.defaultVal=i.factory.createNumericLiteral(+u.defaultVal.text+1)),this.macroStack.pop(),l}makeHygienic(e){var t;const r=(null===(t=this.getLastMacro())||void 0===t?void 0:t.defined)||{},n=e=>{if(i.isVariableDeclaration(e)&&-1!==e.pos){const t=(0,a.getNameFromBindingName)(e.name);if(!t)return e;const o=i.factory.createUniqueName(t);return r[t]=o,i.factory.updateVariableDeclaration(e,o,void 0,void 0,i.visitNode(e.initializer,n))}return!i.isIdentifier(e)||e.parent&&i.isPropertyAccessExpression(e.parent)||!(e.text in r)?i.visitEachChild(e,n,this.context):r[e.text]};return i.visitNodes(e,n)}getMarker(e){if(!e.type)return 0;const t=this.checker.getTypeAtLocation(e.type).getProperty("__marker");if(!t)return 0;const r=this.checker.getTypeOfSymbol(t).getNonNullableType();if(!r.isStringLiteral())return 0;switch(r.value){case"Accumulator":return 1;case"Var":return 2;case"Save":return 3;default:return 0}}getTotalLoops(e,t,r,n){let o=n.length;const a=e=>{if(i.isPrefixUnaryExpression(e)&&39===e.operator&&i.isArrayLiteralExpression(e.operand))return e;if(i.isIdentifier(e)){const n=r.find((t=>t.name===e.text));if(!n||!n.spread)return e;const i=t.length-n.start;return i>o&&(o+=i-o),e}return i.visitEachChild(e,a,this.context)};for(const i of e)a(i);return o}callComptimeFunction(e){var t;if(this.comptimeSignatures.size){const r=this.checker.getResolvedSignature(e);if(r&&r.declaration){const n=this.comptimeSignatures.get(r.declaration);n&&(0,a.tryRun)(n,(null===(t=e.arguments)||void 0===t?void 0:t.map((e=>{const t=this.getLiteralFromNode(e,!1,!0,!0);return t===c?void 0:t})))||[])}}}getNumberFromNode(e){if(i.isParenthesizedExpression(e))return this.getNumberFromNode(e.expression);if(i.isNumericLiteral(e))return+e.text;const t=this.checker.getTypeAtLocation(e);return t.isNumberLiteral()?t.value:"null"===t.intrinsicName?0:void 0}getStringFromNode(e,t=!1,r=!1){if(!e)return;const n=this.getLiteralFromNode(e,t,r);return"string"===typeof n?n:void 0}getLiteralFromNode(e,t=!1,r=!1,n=!1){if(i.isParenthesizedExpression(e))return this.getLiteralFromNode(e.expression);if(i.isAsExpression(e))return this.getLiteralFromNode(e.expression);if(i.isNumericLiteral(e))return+e.text;if(i.isStringLiteral(e))return e.text;if(e.kind===i.SyntaxKind.FalseKeyword)return!1;if(e.kind===i.SyntaxKind.TrueKeyword)return!0;if(t&&i.isIdentifier(e))return e.text;if(r&&i.isTemplateExpression(e)){let t=e.head.text;for(const r of e.templateSpans){t+=(this.getLiteralFromNode(i.visitNode(r.expression,this.boundVisitor))||"").toString()+r.literal.text}return t}if(n&&i.isObjectLiteralExpression(e)){const o={};for(const s of e.properties){if(!i.isPropertyAssignment(s)||!s.initializer)continue;const e=s.name&&(0,a.getNameFromProperty)(s.name);e&&(o[e]=this.getLiteralFromNode(s.initializer,t,r,n))}return o}if(n&&i.isArrayLiteralExpression(e))return e.elements.map((e=>this.getLiteralFromNode(e,t,r,n)));const o=this.checker.getTypeAtLocation(e);return o.isNumberLiteral()||o.isStringLiteral()||o.value?o.value:"false"!==o.intrinsicName&&("true"===o.intrinsicName||("undefined"===o.intrinsicName?void 0:"null"===o.intrinsicName?null:c))}getBoolFromNode(e){if(e.kind===i.SyntaxKind.FalseKeyword||e.kind===i.SyntaxKind.NullKeyword)return!1;if(e.kind===i.SyntaxKind.TrueKeyword)return!0;if(i.isNumericLiteral(e))return"0"!==e.text;if(i.isStringLiteral(e))return""!==e.text;if(i.isArrayLiteralExpression(e)||i.isObjectLiteralElement(e))return!0;if(i.isIdentifier(e)&&"undefined"===e.text)return!1;const t=this.checker.getTypeAtLocation(e);return t.isNumberLiteral()?0!==t.value:t.isStringLiteral()?""!==t.value:!!t.getCallSignatures().length||"false"!==t.intrinsicName&&("true"===t.intrinsicName||"undefined"!==t.intrinsicName&&("null"!==t.intrinsicName&&void 0))}getTypeParam(e){var t,r;const n=this.getLastMacro();if(!n)return;const i=n.macro.typeParams.findIndex((t=>this.checker.getTypeAtLocation(t)===e));if(-1!==i&&n.call){const e=null===(t=n.call.typeArguments)||void 0===t?void 0:t[i];return e?this.checker.getTypeAtLocation(e):null===(r=this.checker.getResolvedSignature(n.call))||void 0===r?void 0:r.getTypeParameterAtPosition(i)}}getLastMacro(){return this.macroStack[this.macroStack.length-1]}};const l={"[]":(e,t)=>i.factory.createArrayLiteralExpression(t.map((e=>i.isExpressionStatement(e)?e.expression:e))),"+":(e,t)=>(0,a.toBinaryExp)(e,t,i.SyntaxKind.PlusToken),"-":(e,t)=>(0,a.toBinaryExp)(e,t,i.SyntaxKind.MinusToken),"*":(e,t)=>(0,a.toBinaryExp)(e,t,i.SyntaxKind.AsteriskToken),"||":(e,t)=>(0,a.toBinaryExp)(e,t,i.SyntaxKind.BarBarToken),"&&":(e,t)=>(0,a.toBinaryExp)(e,t,i.SyntaxKind.AmpersandAmpersandToken),"()":(e,t)=>i.factory.createParenthesizedExpression((0,a.toBinaryExp)(e,t,i.SyntaxKind.CommaToken))}},7914:function(e,t,r){"use strict";var n=r(4250);Object.defineProperty(t,"__esModule",{value:!0}),t.tryRun=t.fnBodyToString=t.resolveAliasedSymbol=t.primitiveToNode=t.createObject=t.isStatement=t.getNameFromBindingName=t.getNameFromProperty=t.MacroErrorWrapper=t.MacroError=t.getRepetitionParams=t.toBinaryExp=t.wrapExpressions=t.flattenBody=void 0;const i=r(4625);function o(e,t,r,n){console.error(i.formatDiagnosticsWithColorAndContext([{category:i.DiagnosticCategory.Error,code:8e3,file:n,start:e,length:t,messageText:r}],{getNewLine:()=>"\r\n",getCurrentDirectory:i.sys.getCurrentDirectory,getCanonicalFileName:e=>e}))}function a(e){return e.kind>=i.SyntaxKind.Block&&e.kind<=i.SyntaxKind.DebuggerStatement}t.flattenBody=function(e){return"statements"in e?[...e.statements]:[e]},t.wrapExpressions=function(e){let t=e.pop();return i.isExpressionStatement(t)?t=i.factory.createReturnStatement(t.expression):t.kind>i.SyntaxKind.EmptyStatement&&t.kind<i.SyntaxKind.DebuggerStatement||(t=i.factory.createReturnStatement(t)),i.factory.createImmediatelyInvokedArrowFunction([...e,t])},t.toBinaryExp=function(e,t,r){let n;for(const o of t.map((e=>i.isExpressionStatement(e)?e.expression:e)))n=n?e.context.factory.createBinaryExpression(n,r,o):o;return i.visitNode(n,e.boundVisitor)},t.getRepetitionParams=function(e){const t={literals:[]},r=e.elements[0];i.isStringLiteral(r)?t.separator=r.text:i.isArrayLiteralExpression(r)?t.literals.push(...r.elements):i.isArrowFunction(r)&&(t.function=r);const n=e.elements[1];n&&(i.isArrayLiteralExpression(n)?t.literals.push(...n.elements):i.isArrowFunction(n)&&(t.function=n));const o=e.elements[2];if(o&&i.isArrowFunction(o)&&(t.function=o),!t.function)throw new Error("Repetition must include arrow function.");return t},t.MacroError=function(e,t){if(!i.sys||"object"!==typeof n)throw new Error(t);o(e.pos,e.end-e.pos,t,e.getSourceFile()),n.exit()},t.MacroErrorWrapper=o,t.getNameFromProperty=function(e){return i.isIdentifier(e)||i.isStringLiteral(e)||i.isPrivateIdentifier(e)||i.isNumericLiteral(e)?e.text:void 0},t.getNameFromBindingName=function(e){if(i.isIdentifier(e))return e.text},t.isStatement=a,t.createObject=function(e){const t=[];for(const r in e){const n=e[r];t.push(i.factory.createPropertyAssignment(r,n?a(n)?i.factory.createArrowFunction(void 0,void 0,[],void 0,void 0,i.isBlock(n)?n:i.factory.createBlock([n])):n:i.factory.createIdentifier("undefined")))}return i.factory.createObjectLiteralExpression(t)},t.primitiveToNode=function e(t){if("string"===typeof t)return i.factory.createStringLiteral(t);if("number"===typeof t)return i.factory.createNumericLiteral(t);if("boolean"===typeof t)return t?i.factory.createTrue():i.factory.createFalse();if(null===t)return i.factory.createNull();if(Array.isArray(t))return i.factory.createArrayLiteralExpression(t.map((t=>e(t))));{const r=[];for(const n in t)r.push(i.factory.createPropertyAssignment(n,e(t[n])));return i.factory.createObjectLiteralExpression(r)}},t.resolveAliasedSymbol=function(e,t){if(t){for(;0!==(t.flags&i.SymbolFlags.Alias);){const r=e.getAliasedSymbol(t);if("unknown"===r.name)return t;t=r}return t}},t.fnBodyToString=function e(t,r){if(!r.body)return"";const n=new Set;let o="";const a=r=>{if(i.isCallExpression(r)){const s=t.getResolvedSignature(r);if(s&&s.declaration&&(i.isFunctionDeclaration(s.declaration)||i.isArrowFunction(s.declaration)||i.isFunctionExpression(s.declaration))){const a=s.declaration.name?s.declaration.name.text:i.isIdentifier(r.expression)?r.expression.text:void 0;if(!a||n.has(a))return;o+=`function ${a}(${s.parameters.map((e=>e.name)).join(",")}){${e(t,s.declaration)}}`,n.add(a)}i.forEachChild(r,a)}else i.forEachChild(r,a)};return i.forEachChild(r.body,a),o+i.transpile(r.body.getText())},t.tryRun=function(e,t=[]){var r;try{e(...t)}catch(n){if(!(n instanceof Error))throw n;{const{line:t,col:a}=(null===(r=(n.stack||"").match(/<anonymous>:(?<line>\d+):(?<col>\d+)/))||void 0===r?void 0:r.groups)||{},s=t?+t-1:0,c=a?+a-1:0,l=i.createSourceFile("comptime",e.toString(),i.ScriptTarget.ES2020,!0,i.ScriptKind.JS),u=i.getPositionOfLineAndCharacter(l,s,c);let d=l;const f=e=>{e.pos===u?d=e:i.forEachChild(e,f)};i.forEachChild(l,f),o(d.pos,d.end-d.pos,n.message,l)}}}},3841:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=3841,e.exports=t},5301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2412)}])},1115:function(e,t,r){"use strict";r.d(t,{y:function(){return l}});var n=r(4051),i=r.n(n),o=r(5893),a=r(9604),s=r(7294);function c(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}function l(e){var t=(0,s.useState)(),r=t[0],n=t[1],l=(0,a.Ik)();return(0,s.useEffect)((function(){var t;l&&(t=i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.editor.colorize(e.text,"javascript",{tabSize:4});case 2:r=t.sent,n(r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))})()}),[l,e.text]),(0,o.jsx)("div",{children:r&&(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:r},style:{backgroundColor:"#1e1e1e",overflowY:"auto",paddingLeft:"15px",height:"calc(80vh - 50px)",fontFamily:"monospace",overflowX:"hidden"}})})}},1682:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{e:function(){return Runnable}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),react_split_pane__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5884),_Highlight__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1115),_css_App_module_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8836),_css_App_module_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_css_App_module_css__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7294);function Runnable(props){var ref=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(),evalRes=ref[0],setEvalRes=ref[1];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_split_pane__WEBPACK_IMPORTED_MODULE_1__.Z,{split:"horizontal",defaultSize:"70%",primary:"first",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Highlight__WEBPACK_IMPORTED_MODULE_2__.y,{text:props.code})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_css_App_module_css__WEBPACK_IMPORTED_MODULE_4___default().runSection,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:_css_App_module_css__WEBPACK_IMPORTED_MODULE_4___default().button,onClick:function(){try{setEvalRes(eval(props.code))}catch(err){setEvalRes(err.toString())}},children:"Run"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:_css_App_module_css__WEBPACK_IMPORTED_MODULE_4___default().runSectionResult,children:evalRes})]})]})}},2412:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return b},default:function(){return S}});var n=r(5893),i=r(5423),o=r.n(i),a=r(3349);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c='\ndeclare function $$loadEnv(path?: string) : void;\ndeclare function $$readFile(path: string, parseJSON?: false) : string;\ndeclare function $$inlineFunc<R = any>(func: Function, ...params: Array<unknown>) : R;\ndeclare function $$kindof(ast: unknown) : number;\ndeclare function $$define(varname: string, initializer: unknown, let?: boolean) : number;\ndeclare function $$i() : number;\ndeclare function $$length(arr: Array<any>|string) : number;\ndeclare function $$ident(str: string) : any;\ndeclare function $$err(str: string) : void;\ndeclare function $$includes<T>(arr: Array<T>, val: T) : boolean;\ndeclare function $$includes(arr: string, val: string) : boolean;\ndeclare function $$slice<T>(str: Array<T>, start?: number, end?: number) : Array<T>;\ndeclare function $$slice(str: string, start?: number, end?: number) : string;\ndeclare function $$ts<T = unknown>(code: string) : T;\ndeclare function $$escape(code: () => void) : any;\ndeclare function $$typeToString<T>() : string;\ndeclare function $$propsOfType<T>() : Array<string>;\ndeclare function $$comptime(fn: () => void) : void;\ntype Accumulator = number & { __marker?: "Accumulator" };\ndeclare const var_sym: unique symbol;\ntype Var = (null | undefined | string | number | {} | typeof var_sym) & { __marker?: "Var" };\ntype Save<T> = T & { __marker?: "Save" }\nconst enum LabelKinds {\n    If,\n    ForIter,\n    For,\n    While,\n    Block\n}\ninterface IfLabel {\n    kind: LabelKinds.If\n    condition: any,\n    then: any,\n    else: any\n}\ninterface ForIterLabel {\n    kind: LabelKinds.ForIter,\n    type: "in" | "of",\n    initializer: any,\n    iterator: any,\n    statement: any\n}\ninterface ForLabel {\n    kind: LabelKinds.For,\n    initializer: {\n        expression?: any,\n        variables?: Array<[variableName: string, initializer: any]>\n    },\n    condition: any,\n    increment: any,\n    statement: any\n}\ninterface WhileLabel {\n    kind: LabelKinds.While,\n    do: boolean,\n    condition: any,\n    statement: any\n}\ninterface BlockLabel {\n    kind: LabelKinds.Block,\n    statement: any\n}\ntype Label = IfLabel | ForIterLabel | ForLabel | WhileLabel | BlockLabel;\n\n',l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}({},o().getDefaultCompilerOptions(),{noImplicitAny:!0,strictNullChecks:!0,target:o().ScriptTarget.ESNext});var u=r(7294),d=r(9604);function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=(0,d.Ik)();return(0,u.useEffect)((function(){if(t){t.languages.typescript.javascriptDefaults.setCompilerOptions(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}({},l));var e="ts:ts-runtime-checks/index.d.ts";t.languages.typescript.javascriptDefaults.addExtraLib(c,e),t.editor.createModel(c,"typescript",t.Uri.parse(e))}}),[t]),(0,n.jsx)(d.ZP,{height:"calc(90vh - 50px)",language:"typescript",theme:"vs-dark",value:e.code,onChange:e.onChange})}var m=r(1682),y=r(5884),h=r(6961),x=r(8836),g=r.n(x),_=(r(4444),['function $contains<T>(value: T, possible: Array<T>) {\n    return +["||", [possible], (val: T) => value === val];\n}\n    \nconst searchItem = "google";\n$contains!(searchItem, ["erwin", "tj"]);',"function $try(resultObj: Save<{ value?: number, is_err: () => boolean}>) {\n    $$escape!(() => {\n        if (resultObj.is_err()) {\n            return resultObj;\n        }\n    });\n    return resultObj.value;\n}\n\n(() => {\n    const a = $try!({ value: 123, is_err: () => false });\n});",'type ClassInfo = { name: string, value: string };\n\nfunction $makeClasses(...info: Array<ClassInfo>) {\n    +[(info: ClassInfo) => {\n        $$ts!(`\n            class ${info.name} {\n                constructor() {\n                    this.value = ${info.value}\n                }\n            }\n        `);\n    }];\n}\n\n$makeClasses!({name: "A", value: "123"}, {name: "B", value: "345"});','function $map<T, R>(arr: Save<Array<T>>, cb: (item: T) => R) : Array<R> {\n    $$escape!(() => {\n        const res = [];\n        for (let i=0; i < arr.length; i++) {\n        res.push($$inlineFunc!(cb, arr[i]));\n        }\n    });\n    return $$ident!("res");\n}\n\n(() => {\n    $map!([1, 2, 3, 4, 5, 6, 7, 8, 9], (num) => num * 2);\n})();',"function $ToInterval(info: WhileLabel, intervalTimer = 1000) {\n    const interval = setInterval(() => {\n        if (info.condition) {\n            $$inlineFunc!(info.statement);\n        } else {\n            clearInterval(interval);\n        }\n    }, intervalTimer);\n}\n\nconst arr = [1, 3, 4, 5, 6];\n\n$ToInterval:\nwhile (arr.length !== 0) {\n    console.log(arr.pop());\n}"]),v="\n// Interactive playground!\n// Write your code here and see the transpiled result.\n// All items from the library are already imported!\n\n".concat(_[Math.floor(Math.random()*_.length)],"\n");function E(e){var t=e.transpile,r=(0,u.useState)(v),i=r[0],o=r[1],a=(0,u.useState)(""),s=a[0],c=a[1];return(0,u.useEffect)((function(){var e=Object.fromEntries(new URLSearchParams(window.location.search).entries());if(e.code){var r=(0,h.decompressFromEncodedURIComponent)(e.code);if(!r)return;o(r);var n=t(r),i=n.code,a=n.error;c(i||""+a)}else c(t(v).code)}),[]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("header",{className:g().header,children:[(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("h2",{children:"Typescript Macros"}),(0,n.jsx)("button",{className:g().button,onClick:function(){i&&navigator.permissions.query({name:"clipboard-write"}).then((function(e){"granted"!=e.state&&"prompt"!=e.state||navigator.clipboard.writeText(location.origin+location.pathname+"?code=".concat((0,h.compressToEncodedURIComponent)(i)))}))},children:"Copy Link"})]}),(0,n.jsx)("a",{href:"https://github.com/GoogleFeud/ts-macros",style:{fontSize:"24px"},children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",fill:"currentColor",viewBox:"0 0 16 16",children:(0,n.jsx)("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"})})})]}),(0,n.jsxs)(y.Z,{split:"vertical",defaultSize:"50%",primary:"first",children:[(0,n.jsx)(p,{code:i,onChange:function(e){o(e);var r=t(e||""),n=r.code,i=r.error;c(n||""+i)}}),(0,n.jsx)(m.e,{code:s})]}),(0,n.jsx)("footer",{className:g().footer,children:(0,n.jsxs)("p",{children:["Made with \u2764\ufe0f by ",(0,n.jsx)("a",{href:"https://github.com/GoogleFeud",children:"GoogleFeud"}),"."]})})]})}var b=!0;function S(e){var t=function(e){var t=o().createSourceFile("lib.d.ts",e,l.target||o().ScriptTarget.ESNext,!0,o().ScriptKind.TS);return function(e){var r=o().createSourceFile("module.ts",c+e,l.target||o().ScriptTarget.ESNext,!0),n="",i={getSourceFile:function(e){return e.endsWith(".d.ts")?t:r},getDefaultLibFileName:function(){return"lib.d.ts"},useCaseSensitiveFileNames:function(){return!1},writeFile:function(e,t){return n=t},getCanonicalFileName:function(e){return e},getCurrentDirectory:function(){return""},getNewLine:function(){return"\n"},fileExists:function(){return!0},readFile:function(){return""},directoryExists:function(){return!0},getDirectories:function(){return[]}},s=o().createProgram(["module.ts"],l,i);window.checker=s.getTypeChecker(),window.source=r;try{a.wN.clear(),s.emit(void 0,void 0,void 0,void 0,{before:[(0,a.ZP)(s)]})}catch(u){return console.log(u),{error:u}}return{code:n}}}(e.lib);return(0,n.jsx)(E,{transpile:t})}},8836:function(e){e.exports={header:"App_header__3xFa8",footer:"App_footer__qJi0F",button:"App_button__Z9okP",runSection:"App_runSection__ptbmi",runSectionResult:"App_runSectionResult__ZpuvE"}},3411:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=3411,e.exports=t},9939:function(){},175:function(){},4250:function(){},7424:function(){},9107:function(){},444:function(){},6170:function(){},1157:function(){},1638:function(){},9528:function(){},1206:function(){},2183:function(){},3024:function(){},2715:function(){},3611:function(){},8353:function(){},1210:function(){},5573:function(){},3454:function(){},4444:function(){}},function(e){e.O(0,[138,21,961,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);